doctype html
html(lang="es")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        link(rel="icon" type="image/png" href="/img/logo_1.png")
        title Sistemas de Ingresos | #{pagina}
        link(rel="stylesheet", href="/css/output.css")
        link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css")
        
        link(href="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/css/tom-select.css" rel="stylesheet")
        
        block styles

    body(class="bg-gray-100")
        //- El header ahora está fuera del contenedor principal, asegurando que ocupe todo el ancho
        if barra
            include header

        //- Contenedor para el sidebar y el contenido principal
        div(class="flex h-[calc(100vh-68px)]")
            if barra
                include sidebar

            //- El contenido principal es el que tendrá scroll
            main#main-content(class="flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto")
                block contenido
        
        //- Scripts de librerías globales. Se cargan ANTES de los scripts de cada página.
        script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
        script(src="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/js/tom-select.complete.min.js")
        
        if barra
            script(src="/js/sidebar.js")
            script(src="/js/gestionAlertas.js")

        //- Bloque para que las páginas hijas puedan añadir sus propios scripts específicos
        block scripts
